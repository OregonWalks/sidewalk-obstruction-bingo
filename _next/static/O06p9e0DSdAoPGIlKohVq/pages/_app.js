(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{0:function(e,t,n){n("74v/"),e.exports=n("nOHt")},"74v/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},L1EO:function(e,t,n){},cha2:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));n("q4sD");var r=n("q1tI"),o=n.n(r),a=n("/MKj"),c=n("o0o1"),i=n.n(c),s=n("ODXe");const u=(e,t)=>t.some(t=>e instanceof t);let d,l;const f=new WeakMap,b=new WeakMap,p=new WeakMap,v=new WeakMap,g=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return b.get(e);if("objectStoreNames"===t)return e.objectStoreNames||p.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(D(this),t),y(f.get(this))}:function(...t){return y(e.apply(D(this),t))}:function(t,...n){const r=e.call(D(this),t,...n);return p.set(r,t.sort?t.sort():[t]),y(r)}}function w(e){return"function"===typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(b.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});b.set(e,t)}(e),u(e,d||(d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function y(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(y(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&f.set(t,e)}).catch(()=>{}),g.set(t,e),t}(e);if(v.has(e))return v.get(e);const t=w(e);return t!==e&&(v.set(e,t),g.set(t,e)),t}const D=e=>g.get(e);const j=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],I=new Map;function O(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(I.get(t))return I.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!j.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let c=a.store;r&&(c=c.index(t.shift()));const i=c[n](...t);return o&&await a.done,i};return I.set(t,a),a}h=(e=>({...e,get:(t,n,r)=>O(t,n)||e.get(t,n,r),has:(t,n)=>!!O(t,n)||e.has(t,n)}))(h);var B=n("uFh9"),k=n("9LU2"),L=n("i7Pf"),S=Object(L.c)({name:"db",initialState:{state:"loading"},reducers:{setDb:function(e,t){return{state:"ready",db:t.payload}}}}),x=S.actions.setDb,P=S.reducer,A=o.a.createElement;function T(e){var t=e.initialKeyvalsForTest,n=void 0===t?void 0:t,c=Object(a.b)();return Object(r.useEffect)((function(){var e=!0,t=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(e,t),i=y(c);return r&&c.addEventListener("upgradeneeded",e=>{r(y(c.result),e.oldVersion,e.newVersion,y(c.transaction))}),n&&c.addEventListener("blocked",()=>n()),i.then(e=>{a&&e.addEventListener("close",()=>a()),o&&e.addEventListener("versionchange",()=>o())}).catch(()=>{}),i}("sidewalk-obstruction-bingo",1,{upgrade:function(e,t,r,o){switch(t){case 0:var a=e.createObjectStore("queuedReports",{keyPath:"uuid"});if(a.createIndex("tile","tile"),a.createIndex("addTime","addTime"),e.createObjectStore("keyval"),void 0!==n)for(var c=0,i=Object.entries(n);c<i.length;c++){var u=Object(s.a)(i[c],2),d=u[0],l=u[1];o.objectStore("keyval").add(l,d)}}},blocking:function(){t.then((function(e){return e.close()})),location.reload()}});return function(){var n,r,o,a,u;i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,i.a.awrap(t);case 2:return n=d.sent,d.next=5,i.a.awrap(Promise.all([Object(k.b)(n),Object(B.c)(n)]));case 5:r=d.sent,o=Object(s.a)(r,2),a=o[0],u=o[1],e&&(c(x(n)),c(a),c(u));case 10:case"end":return d.stop()}}),null,null,null,Promise)}(),function(){e=!1,t.then((function(e){return e.close()}))}}),[c,n]),A(o.a.Fragment,null)}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var M=n("ANjH"),N=Object(M.c)({db:P,config:k.a,board:B.a});var _=Object(L.a)({reducer:N,middleware:C(Object(L.d)({immutableCheck:{ignoredPaths:["db.db"]},serializableCheck:{ignoredActions:["db/setDb"],ignoredPaths:["db.db"]}}))}),q=(n("L1EO"),o.a.createElement);function K(e){var t=e.Component,n=e.pageProps;return q(a.a,{store:_},q(T,null),q(t,n))}},q4sD:function(e,t,n){}},[[0,1,2,0,3,4]]]);